import{r as m,a as A,R as F}from"./vendor-b1791c80.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=i(r);fetch(r.href,n)}})();var k={exports:{}},w={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M=m,U=Symbol.for("react.element"),$=Symbol.for("react.fragment"),O=Object.prototype.hasOwnProperty,L=M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q={key:!0,ref:!0,__self:!0,__source:!0};function C(t,a,i){var s,r={},n=null,c=null;i!==void 0&&(n=""+i),a.key!==void 0&&(n=""+a.key),a.ref!==void 0&&(c=a.ref);for(s in a)O.call(a,s)&&!q.hasOwnProperty(s)&&(r[s]=a[s]);if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:U,type:t,key:n,ref:c,props:r,_owner:L.current}}w.Fragment=$;w.jsx=C;w.jsxs=C;k.exports=w;var e=k.exports,T={},D=A;T.createRoot=D.createRoot,T.hydrateRoot=D.hydrateRoot;const Q=()=>e.jsx("header",{className:"bg-[#151518] border-b border-gray-700 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Finance GenAI Strategy Portal"}),e.jsx("span",{className:"text-sm text-gray-400 bg-gray-800 px-2 py-1 rounded",children:"Global Tax Copilot"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"text-gray-400 hover:text-white transition-colors",children:e.jsx("span",{className:"text-sm",children:"Admin Panel"})}),e.jsx("div",{className:"w-8 h-8 bg-[#FF8000] rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-white",children:"U"})})]})]})}),E={webpage:{id:"webpage",name:"OECD DST Tracker",type:"webpage",icon:"ðŸŒ",description:"Preloaded OECD DST regulations tracker with hardcoded URL for digital services tax compliance.",exampleQueries:["Which countries have DST rules?","What is the DST threshold in India?"],category:"Tax Widgets"},file:{id:"file",name:"Trial Balance FY24",type:"file",icon:"ðŸ“‚",description:"Preloaded Trial Balance file containing dummy tax provision data for fiscal year 2024.",exampleQueries:["What are the tax provisions for FY24?","Break down deferred vs current tax expense."],category:"Tax Widgets"},faq:{id:"faq",name:"Tax FAQ",type:"faq",icon:"â“",description:"Pre-seeded Q&A database covering Transfer Pricing and India GST regulations.",exampleQueries:["Explain India GST input tax credit rules.","Summarize OECD transfer pricing guidelines."],category:"Tax Widgets"},api:{id:"api",name:"RSS Exchange Rates",type:"api",icon:"ðŸ”Œ",description:"Stub Rate Selection System API connection that returns mock exchange rates for testing.",exampleQueries:["Show EUR/INR exchange rate.","Get USD/GBP exchange rate."],category:"Integration Widgets"},dataProduct:{id:"dataProduct",name:"DST Dataset",type:"dataProduct",icon:"ðŸ“Š",description:"Pulls mock DST dataset from Tax Data Marketplace with country-wise digital services tax data.",exampleQueries:["Show digital revenues dataset by country.","Filter DST dataset for EU-only markets."],category:"Integration Widgets"},documents:{id:"documents",name:"Audit Documents",type:"documents",icon:"ðŸ—‚ï¸",description:"Combines structured Sales & Use Tax data with unstructured audit documents for comprehensive analysis.",exampleQueries:["List recent audit trail documents for SNUT-23.","Summarize FY23 audit variance report."],category:"Integration Widgets"}},B=t=>E[t]||null,G=t=>{const a=[];return t.forEach(i=>{const s=B(i.originalId||i.type);s&&s.exampleQueries&&a.push(...s.exampleQueries)}),[...new Set(a)]},Y=()=>{const t={};return Object.values(E).forEach(a=>{t[a.category]||(t[a.category]=[]),t[a.category].push(a)}),t},K=()=>{const[t,a]=m.useState(null),i=Y(),s=(r,n)=>{r.dataTransfer.setData("text/plain",JSON.stringify(n))};return e.jsxs("aside",{className:"w-80 bg-[#1a1a1d] border-r border-gray-700 p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Widget Library"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Drag widgets to workspace"})]}),e.jsx("div",{className:"space-y-6",children:Object.entries(i).map(([r,n])=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:r}),e.jsx("div",{className:"space-y-2",children:n.map(c=>e.jsxs("div",{className:`relative p-3 bg-gray-800/50 rounded-lg border border-gray-600
                             hover:border-[#FF8000] hover:bg-gray-800/70
                             cursor-grab active:cursor-grabbing transition-all`,draggable:!0,onDragStart:l=>s(l,c),onMouseEnter:()=>a(c.id),onMouseLeave:()=>a(null),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-[#FF8000]/20 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-[#FF8000] text-xs",children:c.icon})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:c.name}),e.jsx("div",{className:"text-xs text-gray-400",children:c.type})]})]}),t===c.id&&e.jsxs("div",{className:`absolute left-full top-0 ml-2 w-72 z-50
                                    bg-slate-800 text-slate-200 p-3 rounded shadow-lg
                                    border border-gray-600`,children:[e.jsx("div",{className:"text-sm font-medium text-white mb-2",children:c.name}),e.jsx("div",{className:"text-xs text-gray-300 mb-3",children:c.description}),e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Example queries:"}),e.jsx("div",{className:"space-y-1",children:c.exampleQueries.map((l,d)=>e.jsxs("div",{className:"text-xs text-[#FF8000]",children:["â€¢ ",l]},d))})]})]},c.id))})]},r))})]})},z=({title:t})=>e.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-gray-600",children:[e.jsx("span",{className:"text-xs font-medium text-gray-300",children:t}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{className:"text-gray-400 hover:text-white text-xs px-1",children:"ðŸ“Š"}),e.jsx("button",{className:"text-gray-400 hover:text-white text-xs px-1",children:"ðŸ“‹"}),e.jsx("button",{className:"text-gray-400 hover:text-white text-xs px-1",children:"âš™ï¸"})]})]}),b=({title:t,children:a,showControls:i=!0})=>e.jsxs("div",{className:"w-full h-full",children:[i&&e.jsx(z,{title:t}),e.jsx("div",{className:"p-3",children:a})]}),Z=({title:t="OECD DST Tracker"})=>e.jsx(b,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"ðŸŒ"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"oecd.org/tax/dst-tracker"})]}),e.jsx("div",{className:"min-h-[120px] bg-gray-800 rounded flex items-center justify-center w-full",children:e.jsxs("div",{className:"text-center text-gray-500 p-4",children:[e.jsx("div",{className:"text-2xl mb-1",children:"ðŸŒ"}),e.jsx("p",{className:"text-xs mb-1",children:"DST Tracker Preview"}),e.jsx("p",{className:"text-xs break-words",children:"France, Italy, Spain active"})]})})]})}),H=({title:t="Trial Balance FY24"})=>e.jsx(b,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"ðŸ“‚"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"trial_balance_fy24.json"})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-gray-400 truncate flex-1 mr-2",children:"Deferred Tax Expense:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$2.3M"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-gray-400 truncate flex-1 mr-2",children:"Current Tax Provision:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$14.2M"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-gray-400 truncate flex-1 mr-2",children:"Total Provisions:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$16.5M"})]})]})]})}),V=({title:t="Tax FAQ"})=>e.jsx(b,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"â“"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"Transfer Pricing + GST Rules"})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Recent Q&As:"}),e.jsx("div",{className:"text-xs text-white break-words",children:"â€¢ GST threshold: INR 40L (goods)"}),e.jsx("div",{className:"text-xs text-white break-words",children:"â€¢ TP documentation required"}),e.jsx("div",{className:"text-xs text-white break-words",children:"â€¢ Service threshold: INR 20L"}),e.jsx("button",{className:"text-xs text-[#FF8000] hover:underline mt-2 truncate w-full text-left",children:"Browse all FAQs â†’"})]})]})}),J=({title:t="RSS Exchange Rates"})=>{const[a,i]=m.useState(!1),[s,r]=m.useState(null),n=()=>{i(!0),setTimeout(()=>{r("EUR/INR = 89.40"),i(!1)},1500)};return e.jsx(b,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"ðŸ”Œ"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"RSS API Connection"})]}),e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsx("button",{onClick:n,disabled:a,className:`w-full py-2 px-3 bg-[#FF8000] text-white text-xs rounded
                       hover:bg-[#FF8000]/80 disabled:bg-gray-600 transition-all`,children:a?"Fetching Rate...":"Get Exchange Rate"}),s&&e.jsx("div",{className:"text-center text-white text-sm font-medium break-words p-2 bg-gray-800/50 rounded",children:s})]})]})})},X=({title:t="DST Dataset"})=>e.jsx(b,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"ðŸ“Š"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"Tax Data Marketplace"})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"FY23 Collections:"}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-white truncate flex-1 mr-2",children:"ðŸ‡«ðŸ‡· France:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$120M"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-white truncate flex-1 mr-2",children:"ðŸ‡®ðŸ‡¹ Italy:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$95M"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-white truncate flex-1 mr-2",children:"ðŸ‡ªðŸ‡¸ Spain:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$88M"})]})]})]})}),ee=({title:t="Audit Documents"})=>e.jsx(b,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"ðŸ—‚ï¸"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"Sales & Use Tax + Docs"})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Recent Documents:"}),e.jsx("div",{className:"text-xs text-white break-words",children:"â€¢ SNUT-23 Audit Trail"}),e.jsx("div",{className:"text-xs text-white break-words",children:"â€¢ Variance Report ($1.2M)"}),e.jsx("div",{className:"text-xs text-white break-words",children:"â€¢ FY23 Returns Filing"}),e.jsx("div",{className:"text-xs text-gray-400 mt-2 break-words",children:"Structured + Unstructured Data"})]})]})}),te=({widget:t,onRemove:a})=>{const i=()=>{switch(t.type){case"webpage":return e.jsx(Z,{...t});case"file":return e.jsx(H,{...t});case"faq":return e.jsx(V,{...t});case"api":return e.jsx(J,{...t});case"dataProduct":return e.jsx(X,{...t});case"documents":return e.jsx(ee,{...t});default:return e.jsx("div",{children:"Unknown widget type"})}};return e.jsxs("div",{className:`flex flex-col w-full h-auto min-w-[280px] max-w-full
                    bg-gray-800/50 rounded-lg border border-gray-600 p-4
                    hover:border-[#FF8000] transition-all`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 min-h-[24px]",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm flex-shrink-0",children:t.icon}),e.jsx("h3",{className:"text-sm font-medium text-white truncate",children:t.title})]}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white text-xs transition-colors flex-shrink-0 ml-2",children:"âœ•"})]}),e.jsx("div",{className:"bg-gray-900/30 rounded p-2 mb-3 flex-shrink-0",children:e.jsxs("span",{className:"text-xs text-green-400",children:["âœ“ ",t.type," loaded"]})}),e.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:i()})]})},se="Sample Corp",ae="FY24",re="USD",ne="2024-03-31",ie={current_tax_provision:{amount:142e5,description:"Current year tax liability"},deferred_tax_expense:{amount:23e5,description:"Deferred tax expense for timing differences"},total_provisions:{amount:165e5,description:"Total tax provisions for FY24"}},ce=[{jurisdiction:"United States",current_tax:85e5,deferred_tax:12e5},{jurisdiction:"European Union",current_tax:32e5,deferred_tax:65e4},{jurisdiction:"Asia Pacific",current_tax:25e5,deferred_tax:45e4}],oe={prepared_by:"Tax Department",reviewed_by:"CFO",audit_status:"Reviewed"},_={company:se,fiscal_year:ae,currency:re,reporting_date:ne,tax_provisions:ie,breakdown:ce,metadata:oe},le=[{category:"Transfer Pricing",questions:[{id:"tp_001",question:"What are TP documentation thresholds in India?",answer:"In India, TP documentation is required for international transactions exceeding INR 1 crore and domestic transactions exceeding INR 20 crores as per Rule 10D of Income Tax Rules.",source:"Income Tax Rules, Rule 10D",last_updated:"2024-01-15"},{id:"tp_002",question:"What is the penalty for non-compliance with TP regulations?",answer:"Penalty can range from 2% of the value of international transaction or INR 1 lakh, whichever is higher, under Section 271AA.",source:"Income Tax Act, Section 271AA",last_updated:"2024-01-15"}]},{category:"India GST",questions:[{id:"gst_001",question:"What is the GST threshold for mandatory registration in India?",answer:"GST registration is mandatory for businesses with turnover exceeding INR 40 lakhs for goods and INR 20 lakhs for services in most states.",source:"CGST Act 2017, Section 22",last_updated:"2024-01-15"},{id:"gst_002",question:"What are the GST rates for different categories?",answer:"GST rates are 0%, 5%, 12%, 18%, and 28% depending on the goods/services category. Essential items are often at lower rates.",source:"GST Rate Schedule",last_updated:"2024-01-15"}]}],de={total_questions:4,last_updated:"2024-01-15",version:"1.0"},xe={faq_categories:le,metadata:de},ue={service:"Rate Selection System (RSS)",version:"v2.1",environment:"mock",last_updated:"2024-12-01T10:30:00Z"},me={base_currency:"USD",rates:{EUR:{rate:.9234,inverse_rate:1.0829,timestamp:"2024-12-01T10:30:00Z",source:"RSS-MOCK"},INR:{rate:83.25,inverse_rate:.012,timestamp:"2024-12-01T10:30:00Z",source:"RSS-MOCK"},GBP:{rate:.7891,inverse_rate:1.2673,timestamp:"2024-12-01T10:30:00Z",source:"RSS-MOCK"}}},he={EUR_INR:{rate:89.4,calculation:"EUR/USD * USD/INR",timestamp:"2024-12-01T10:30:00Z"},GBP_INR:{rate:105.48,calculation:"GBP/USD * USD/INR",timestamp:"2024-12-01T10:30:00Z"}},pe={user_authorized:!0,permissions:["read_rates","historical_data"],session_expires:"2024-12-01T18:30:00Z"},N={api_info:ue,exchange_rates:me,derived_rates:he,auth_status:pe},ge={name:"Digital Services Tax Collections",source:"Tax Data Marketplace",version:"2024.1",coverage_period:"FY2023",last_updated:"2024-01-15"},fe=[{country_code:"FR",country_name:"France",collections_usd:12e7,collections_local:11e7,local_currency:"EUR",tax_rate:.03,implementation_date:"2019-01-01",status:"active"},{country_code:"IT",country_name:"Italy",collections_usd:95e6,collections_local:87e6,local_currency:"EUR",tax_rate:.03,implementation_date:"2020-01-01",status:"active"},{country_code:"ES",country_name:"Spain",collections_usd:88e6,collections_local:81e6,local_currency:"EUR",tax_rate:.03,implementation_date:"2021-01-01",status:"active"},{country_code:"UK",country_name:"United Kingdom",collections_usd:156e6,collections_local:125e6,local_currency:"GBP",tax_rate:.02,implementation_date:"2020-04-01",status:"active"}],ye={total_collections_usd:459e6,countries_with_dst:4,average_tax_rate:.0275,highest_collection:{country:"United Kingdom",amount_usd:156e6}},ve={dataset_info:ge,collections_by_country:fe,summary:ye},I=(t,a=[])=>{const i=a.map(r=>r.type),s=t.toLowerCase();if(s.includes("tax provision")||s.includes("fy24"))return i.includes("file")?{response:`Based on Trial Balance FY24 data: **Deferred Tax Expense: $${(_.tax_provisions.deferred_tax_expense.amount/1e6).toFixed(1)}M**, Current Tax Provision: $${(_.tax_provisions.current_tax_provision.amount/1e6).toFixed(1)}M. Total provisions: **$${(_.tax_provisions.total_provisions.amount/1e6).toFixed(1)}M**.`,citations:[{source:"Trial Balance FY24",page:"Tax Provisions Section"}]}:{response:"To get tax provision data, please add the Trial Balance FY24 widget to your workspace.",citations:[]};if(s.includes("dst")||s.includes("digital services")){if(i.includes("webpage"))return{response:"**DST applies to digital revenues > â‚¬750M** globally. Active countries: ðŸ‡«ðŸ‡· France (3%), ðŸ‡®ðŸ‡¹ Italy (3%), ðŸ‡ªðŸ‡¸ Spain (3%), ðŸ‡¬ðŸ‡§ UK (2%). Revenue threshold varies by jurisdiction.",citations:[{source:"OECD DST Tracker",page:"oecd.org/tax/dst-tracker"}]};if(i.includes("dataProduct")){const r=ve.summary.highest_collection;return{response:`**FY23 DST Collections**: ðŸ‡«ðŸ‡· France: $120M, ðŸ‡®ðŸ‡¹ Italy: $95M, ðŸ‡ªðŸ‡¸ Spain: $88M, ðŸ‡¬ðŸ‡§ UK: $156M. **Highest collection**: ${r.country} ($${r.amount_usd/1e6}M).`,citations:[{source:"DST Dataset",page:"Tax Data Marketplace"}]}}return{response:"Add the OECD DST Tracker or DST Dataset widget to get Digital Services Tax information.",citations:[]}}if(s.includes("exchange rate")||s.includes("eur/inr"))return i.includes("api")?{response:`**EUR/INR = ${N.derived_rates.EUR_INR.rate}** (from RSS API, ${new Date(N.exchange_rates.rates.EUR.timestamp).toLocaleDateString()}). Base rates: EUR/USD = ${N.exchange_rates.rates.EUR.rate}, USD/INR = ${N.exchange_rates.rates.INR.rate}.`,citations:[{source:"RSS Exchange Rate System",page:"Live API Feed"}]}:{response:"Add the RSS Exchange Rates widget to get live currency data.",citations:[]};if(s.includes("gst")||s.includes("threshold")||s.includes("india")){if(i.includes("faq")){const r=xe.faq_categories.find(c=>c.category==="India GST"),n=r==null?void 0:r.questions.find(c=>c.question.toLowerCase().includes("threshold"));if(n)return{response:`**${n.answer}**`,citations:[{source:n.source,page:"FAQ Database"}]}}return{response:"Add the Tax FAQ widget to access India GST and Transfer Pricing information.",citations:[]}}return s.includes("what can this copilot help")||s.includes("help with")?{response:`I'm your **Tax Copilot**! I can help analyze financial data when you add widgets to your workspace. Available widgets include:

â€¢ **Trial Balance** - Tax provisions and financial data
â€¢ **OECD DST Tracker** - Digital services tax regulations
â€¢ **RSS Exchange Rates** - Live currency exchange rates
â€¢ **Tax FAQ** - Transfer pricing and GST guidance
â€¢ **DST Dataset** - Digital tax collection data
â€¢ **Audit Documents** - Document analysis and summaries`,citations:[]}:s.includes("how do i add widgets")||s.includes("get started")?{response:`To get started:

1. **Browse the Widget Library** (left sidebar) and hover over widgets to see descriptions
2. **Drag any widget** into the workspace canvas
3. **Ask questions** using the suggested queries that appear
4. **Create multiple chat sessions** using the '+ New' button

Try dragging the **Trial Balance FY24** widget to analyze tax provisions!`,citations:[]}:{response:"I can help you analyze data from your workspace widgets. Try adding some widgets first, or ask about tax provisions, DST rules, exchange rates, or GST thresholds.",citations:[]}},be=Object.freeze(Object.defineProperty({__proto__:null,generateMockResponse:I},Symbol.toStringTag,{value:"Module"})),S=m.createContext(),je=({children:t})=>{const[a,i]=m.useState([{id:1,type:"system",content:"Welcome to the Tax Copilot! Add widgets to your workspace to get started.",timestamp:new Date}]),[s,r]=m.useState([]),[n,c]=m.useState([]),l=x=>{const g={...x,id:Date.now()};if(x.type==="user")i(p=>[...p,g]);else if(x.type==="copilot"){const p=I(x.content,s),o={...g,content:p.response,citations:p.citations};i(u=>[...u,o])}else i(p=>[...p,g])},d=x=>{const g=G(x);c(g)},h=x=>{r(g=>{if(g.find(u=>u.id===x.id))return g;const o=[...g,x];return d(o),o})},y=x=>{r(g=>{const p=g.filter(o=>o.id!==x);return d(p),p})};return e.jsx(S.Provider,{value:{messages:a,addMessage:l,availableWidgets:s,suggestedQueries:n,addWidget:h,removeWidget:y},children:t})},Ne=()=>{const[t,a]=m.useState([]),{addWidget:i,removeWidget:s}=m.useContext(S),r=l=>{l.preventDefault();const d=JSON.parse(l.dataTransfer.getData("text/plain")),h={id:`${d.type}-${Date.now()}`,type:d.type,title:d.name||d.title,icon:d.icon,originalId:d.id,isLoaded:!0};a([...t,h]),i(h)},n=l=>{a(t.filter(d=>d.id!==l)),s(l)},c=l=>{l.preventDefault()};return e.jsx("div",{className:`relative w-full h-full min-h-96 bg-gray-900/20 rounded-lg
                 border-2 border-dashed border-gray-600 overflow-hidden`,onDrop:r,onDragOver:c,children:t.length===0?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ“Š"}),e.jsx("p",{className:"text-sm px-4",children:"Drop widgets here to create your dashboard"})]})}):e.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden",children:e.jsx("div",{className:"grid grid-cols-12 gap-4 p-4 auto-rows-min w-full",children:t.map(l=>e.jsx("div",{className:"col-span-12 sm:col-span-6 lg:col-span-4",children:e.jsx(te,{widget:l,onRemove:()=>n(l.id)})},l.id))})})})},we=()=>e.jsxs("div",{className:"h-full bg-[#151518] rounded-lg border border-gray-700 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Workspace Canvas"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Drag widgets from the sidebar to start building your dashboard"})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(Ne,{})})]}),Se="modulepreload",_e=function(t){return"/copilotbb/"+t},R={},Te=function(a,i,s){if(!i||i.length===0)return a();const r=document.getElementsByTagName("link");return Promise.all(i.map(n=>{if(n=_e(n),n in R)return;R[n]=!0;const c=n.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(!!s)for(let y=r.length-1;y>=0;y--){const x=r[y];if(x.href===n&&(!c||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${l}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Se,c||(h.as="script",h.crossOrigin=""),h.href=n,document.head.appendChild(h),c)return new Promise((y,x)=>{h.addEventListener("load",y),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>a()).catch(n=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n})},De=({citations:t=[]})=>t.length?e.jsxs("div",{className:"mt-3 p-2 bg-gray-900/50 rounded border-l-2 border-[#FF8000]",children:[e.jsx("h5",{className:"text-xs font-medium text-gray-400 mb-1",children:"Sources:"}),e.jsx("div",{className:"space-y-1",children:t.map((a,i)=>e.jsxs("div",{className:"text-xs text-gray-300",children:[e.jsxs("span",{className:"text-[#FF8000]",children:["[",i+1,"]"]}),e.jsx("span",{className:"ml-1",children:a.source}),a.page&&e.jsxs("span",{className:"text-gray-500",children:[" - Page ",a.page]})]},i))})]}):null,Re=({messages:t=[]})=>{const a=s=>{switch(s){case"user":return"ðŸ‘¤";case"copilot":return"ðŸ¤–";case"system":return"ðŸ’¡";default:return"ðŸ’¬"}},i=s=>{switch(s){case"user":return"bg-blue-800/50 border-blue-600 ml-8";case"copilot":return"bg-gray-800/50 border-gray-600 mr-8";case"system":return"bg-orange-800/30 border-orange-600 mx-4";default:return"bg-gray-800/50 border-gray-600"}};return e.jsxs("div",{className:"p-4 space-y-4",children:[t.map(s=>e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-[#FF8000] rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white",children:a(s.type)})}),e.jsxs("span",{className:"text-xs text-gray-400 capitalize",children:[s.type," â€¢ ",s.timestamp.toLocaleTimeString()]})]}),e.jsxs("div",{className:`p-3 rounded-lg border ${i(s.type)}`,children:[e.jsx("div",{className:"text-sm text-white whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:s.content.replace(/\*\*(.*?)\*\*/g,'<strong class="text-[#FF8000]">$1</strong>')}}),s.citations&&e.jsx(De,{citations:s.citations})]})]},s.id)),t.length===1&&e.jsx("div",{className:"text-center text-gray-500 text-xs mt-8",children:"Start a conversation by typing a question or clicking a suggested query"})]})},Fe=({onQuerySelect:t})=>{const{suggestedQueries:a,availableWidgets:i}=m.useContext(S),s=["What can this copilot help with?","How do I add widgets to get started?"],r=a.length>0?a:s;return e.jsxs("div",{className:"p-4 border-b border-gray-700",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-400 mb-2",children:a.length>0?`Suggested Queries (${i.length} widgets)`:"Suggested Queries"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((n,c)=>e.jsx("button",{onClick:()=>t(n),className:`text-xs px-2 py-1 bg-gray-800 text-gray-300 rounded
                       border border-gray-600 hover:border-[#FF8000] hover:text-white
                       hover:bg-gray-700 transition-all`,children:n},c))})]})},ke=()=>{const[t,a]=m.useState(""),{availableWidgets:i}=m.useContext(S),[s,r]=m.useState([{id:1,name:"Chat 1",messages:[{id:1,type:"system",content:"Welcome to the Tax Copilot! Add widgets to your workspace to get started.",timestamp:new Date}]}]),[n,c]=m.useState(1),l=()=>s.find(o=>o.id===n),d=(o=t)=>{if(!o.trim())return;const u={id:Date.now(),type:"user",content:o,timestamp:new Date};r(f=>f.map(v=>v.id===n?{...v,messages:[...v.messages,u]}:v)),a(""),setTimeout(()=>{Te(()=>Promise.resolve().then(()=>be),void 0).then(({generateMockResponse:f})=>{const v=f(o,i),P={id:Date.now()+1,type:"copilot",content:v.response,citations:v.citations,timestamp:new Date};r(W=>W.map(j=>j.id===n?{...j,messages:[...j.messages,P]}:j))})},1e3)},h=o=>{o.key==="Enter"&&d()},y=()=>{const o=Math.max(...s.map(f=>f.id))+1,u={id:o,name:`Chat ${o}`,messages:[{id:Date.now(),type:"system",content:"Welcome to the Tax Copilot! Add widgets to your workspace to get started.",timestamp:new Date}]};r(f=>[...f,u]),c(o)},x=o=>{if(s.length!==1&&(r(u=>u.filter(f=>f.id!==o)),n===o)){const u=s.filter(f=>f.id!==o);c(u[0].id)}},g=()=>{r(o=>o.map(u=>u.id===n?{...u,messages:[{id:Date.now(),type:"system",content:"Chat cleared. Welcome back to the Tax Copilot!",timestamp:new Date}]}:u))},p=l();return e.jsxs("div",{className:"h-full flex flex-col bg-[#1a1a1d]",children:[e.jsxs("div",{className:"border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 pb-2",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Tax Copilot"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:g,className:"p-1 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-all",title:"Clear Chat",children:"ðŸ—‘ï¸"}),e.jsx("button",{onClick:y,className:"px-2 py-1 text-xs bg-[#FF8000] text-white rounded hover:bg-[#FF8000]/80 transition-all",title:"New Chat",children:"+ New"})]})]}),e.jsx("div",{className:"flex items-center px-4 pb-2 overflow-x-auto",children:e.jsx("div",{className:"flex space-x-1 min-w-max",children:s.map(o=>e.jsxs("div",{className:`flex items-center px-2 py-1 rounded-t text-xs transition-all ${o.id===n?"bg-gray-700 text-white border-b-2 border-[#FF8000]":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:[e.jsx("button",{onClick:()=>c(o.id),className:"mr-1",children:o.name}),s.length>1&&e.jsx("button",{onClick:u=>{u.stopPropagation(),x(o.id)},className:"text-gray-500 hover:text-red-400 transition-colors",children:"âœ•"})]},o.id))})}),e.jsx("div",{className:"px-4 pb-2",children:e.jsxs("p",{className:"text-sm text-gray-400",children:["Ask questions about your data (",i.length," widgets active)"]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(Re,{messages:(p==null?void 0:p.messages)||[]})}),e.jsxs("div",{className:"border-t border-gray-700",children:[e.jsx(Fe,{onQuerySelect:d}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:t,onChange:o=>a(o.target.value),onKeyPress:h,placeholder:"Ask about tax provisions, DST rules, exchange rates...",className:`flex-1 bg-gray-800 border border-gray-600 rounded-lg px-3 py-2
                         text-white placeholder-gray-400 focus:outline-none focus:border-[#FF8000]`}),e.jsx("button",{onClick:()=>d(),className:"px-4 py-2 bg-[#FF8000] text-white rounded-lg hover:bg-[#FF8000]/80",children:"Send"})]})})]})]})};class Ce extends F.Component{constructor(a){super(a),this.state={hasError:!1,error:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,i){console.error("Financial App Error:",a,i)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-[#151518] text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Financial System Error"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"A critical error occurred in the financial dashboard."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-[#FF8000] text-white rounded hover:bg-[#FF8000]/80",children:"Reload Application"})]})}):this.props.children}}const Ee=()=>e.jsx(Ce,{children:e.jsx(je,{children:e.jsxs("div",{className:"min-h-screen bg-[#151518] text-white flex flex-col",children:[e.jsx(Q,{}),e.jsxs("div",{className:"flex flex-1",children:[e.jsx(K,{}),e.jsxs("main",{className:"flex-1 flex",children:[e.jsx("div",{className:"flex-1 p-4",children:e.jsx(we,{})}),e.jsx("div",{className:"w-96 border-l border-gray-700",children:e.jsx(ke,{})})]})]})]})})});T.createRoot(document.getElementById("root")).render(e.jsx(F.StrictMode,{children:e.jsx(Ee,{})}));
