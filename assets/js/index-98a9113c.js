import{r as m,a as Q,R}from"./vendor-b1791c80.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();var A={exports:{}},N={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W=m,G=Symbol.for("react.element"),O=Symbol.for("react.fragment"),Y=Object.prototype.hasOwnProperty,B=W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L={key:!0,ref:!0,__self:!0,__source:!0};function I(t,a,o){var r,s={},n=null,i=null;o!==void 0&&(n=""+o),a.key!==void 0&&(n=""+a.key),a.ref!==void 0&&(i=a.ref);for(r in a)Y.call(a,r)&&!L.hasOwnProperty(r)&&(s[r]=a[r]);if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:G,type:t,key:n,ref:i,props:s,_owner:B.current}}N.Fragment=O;N.jsx=I;N.jsxs=I;A.exports=N;var e=A.exports,F={},k=Q;F.createRoot=k.createRoot,F.hydrateRoot=k.hydrateRoot;const D=({currentView:t,onNavigateHome:a,onSelectCopilot:o})=>{const[r,s]=m.useState("Global Tax Copilot"),[n,i]=m.useState(!1),[c,x]=m.useState(""),h=[{id:"global-tax",name:"Global Tax Copilot",comingSoon:!1},{id:"recon",name:"Recon Copilot (Coming Soon)",comingSoon:!0},{id:"accounting",name:"Accounting Copilot (Coming Soon)",comingSoon:!0},{id:"gsm",name:"GSM Copilot (Coming Soon)",comingSoon:!0}],f=l=>{const g=l.target.value,p=h.find(d=>d.id===g);p.comingSoon?(x(p.name),i(!0)):(s(p.name),o(g))},u=()=>{i(!1),x("")};return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"bg-[#151518] border-b border-gray-700 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:a,className:"text-xl font-semibold text-white hover:text-[#FF8000] transition-colors",children:"Finance Copilot Studio"}),t!=="home"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("select",{value:r==="Global Tax Copilot"?"global-tax":r,onChange:f,className:"text-sm bg-gray-800 text-gray-200 border border-gray-600 rounded-md px-3 py-1 focus:outline-none focus:border-[#FF8000] transition-colors",children:h.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[t!=="home"&&e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx("span",{className:"text-sm",children:"Home"})}),e.jsx("button",{className:"text-gray-400 hover:text-white transition-colors",children:e.jsx("span",{className:"text-sm",children:"Admin Panel"})}),e.jsx("div",{className:"w-8 h-8 bg-[#FF8000] rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-white",children:"U"})})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-gray-800 rounded-xl p-6 max-w-md w-full border border-gray-600",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸš§"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:c}),e.jsx("p",{className:"text-gray-300 mb-6",children:"This copilot will be available in future releases."}),e.jsx("button",{onClick:u,className:"px-6 py-2 bg-[#FF8000] text-white rounded-lg hover:bg-[#FF8000]/80 transition-colors",children:"Close"})]})})})]})},M={webpage:{id:"webpage",name:"OECD DST Tracker",type:"webpage",icon:"ðŸŒ",description:"Preloaded OECD DST regulations tracker (hardcoded URL). Copilot answers using webpage content.",subheading:"Webpage Interaction",exampleQueries:["Which countries have DST rules?","Summarize OECD DST policy highlights."],detailedAnswers:{"Which countries have DST rules?":{response:"The OECD DST tracker shows that countries such as **France, Italy, Spain, the UK, and India** have implemented Digital Services Taxes. France introduced a 3% levy on digital advertising and marketplace revenues; Italy and Spain followed similar models, while India applied an equalization levy. These rules primarily target multinational digital platforms with high revenues.",citations:[{source:"OECD DST PDF",url:"https://www.oecd.org/content/dam/oecd/en/publications/reports/2022/09/digital-services_9184a6f5/7bd95d83-en.pdf"}]},"Summarize OECD DST policy highlights.":{response:"OECD guidance highlights **thresholds of â‚¬750M+ global revenues**, ensuring only large multinationals are in scope. It also emphasizes **focus on digital advertising, marketplace platforms, and user data monetization**. The report also warns of risks of double taxation unless harmonized frameworks are agreed globally.",citations:[{source:"OECD DST PDF",url:"https://www.oecd.org/content/dam/oecd/en/publications/reports/2022/09/digital-services_9184a6f5/7bd95d83-en.pdf"}]}},category:"Tax Widgets"},file:{id:"file",name:"Trial Balance FY24",type:"file",icon:"ðŸ“‚",description:"Preloaded Trial Balance file with dummy FY24 tax provision data.",subheading:"File Interaction",exampleQueries:["What are tax provisions for FY24?","Break down deferred vs current tax expense."],detailedAnswers:{"What are tax provisions for FY24?":{response:"The FY24 Trial Balance shows **Deferred Tax = $2.3M**, **Current Tax = $14.2M**, bringing total provisions to **$16.5M**. This indicates that most of the tax expense (about 86%) is expected to be settled in the current fiscal year, while a smaller portion relates to timing differences to be settled in future periods.",citations:[{source:"Trial Balance FY24",page:"Tax Provisions Section"}]},"Break down deferred vs current tax expense.":{response:"Deferred Tax Expense represents about **14% of the total provisions**, mainly from temporary differences on depreciation and carry-forward losses. Current Tax makes up **86%**, reflecting actual payable obligations. This balance suggests a relatively stable tax profile with limited deferrals.",citations:[{source:"Trial Balance FY24",page:"Tax Provisions Section"}]}},category:"Tax Widgets"},faq:{id:"faq",name:"Tax FAQ",type:"faq",icon:"â“",description:"Pre-seeded FAQ with Transfer Pricing + India GST. Copilot answers with RAG + citations.",subheading:"FAQ Question Answering (like Ask-GSM, Ask-Finance)",exampleQueries:["Summarize OECD transfer pricing guidelines.","What is India's GST threshold?"],detailedAnswers:{"Summarize OECD transfer pricing guidelines.":{response:"OECD Transfer Pricing Guidelines are built around the **arm's length principle**, requiring related parties to transact as if they were independent. They define accepted profit allocation methods (CUP, TNMM, Resale Minus, etc.), emphasize country-by-country reporting, and set documentation standards. The guidelines are globally referenced and form the foundation of BEPS (Base Erosion & Profit Shifting) actions.",citations:[{source:"OECD Transfer Pricing Guidelines",page:"FAQ Database"}]},"What is India's GST threshold?":{response:'India applies a GST registration threshold of **â‚¹40 lakh for goods** and **â‚¹20 lakh for services**. This threshold reduces compliance burden on small enterprises while ensuring medium and large businesses enter the GST regime. Some states with "special category" status have lower limits (â‚¹20 lakh for goods).',citations:[{source:"India GST Regulations",page:"FAQ Database"}]}},category:"Tax Widgets"},api:{id:"api",name:"RSS Exchange Rates",type:"api",icon:"ðŸ”Œ",description:'Stub "Rate Selection System (RSS API)" for exchange rates. Simulates auth â†’ call â†’ mock response.',subheading:"API Integration (like Ask-GSM, Ask-Finance)",exampleQueries:["Show EUR/INR exchange rate.","Get USD/GBP exchange rate."],detailedAnswers:{"Show EUR/INR exchange rate.":{response:"RSS API Simulation: **EUR/INR = 89.4 (01/12/2024)**. Supporting base rates were **EUR/USD = 0.9234**, **USD/INR = 83.25**. This implies INR weakening slightly against both USD and EUR compared to the prior quarter.",citations:[{source:"RSS Exchange Rate System",page:"Live API Feed"}]},"Get USD/GBP exchange rate.":{response:"RSS API Simulation: **USD/GBP = 0.79 (01/12/2024)**. Indicates that 1 US Dollar converts to 0.79 British Pounds. Trendline suggests mild USD strength against GBP since Q3 2024.",citations:[{source:"RSS Exchange Rate System",page:"Live API Feed"}]}},category:"Integration Widgets"},dataProduct:{id:"dataProduct",name:"DST Dataset",type:"dataProduct",icon:"ðŸ“Š",description:"Mock DST dataset from Data Marketplace. Queries return country-level digital tax revenues.",subheading:"Tax Data Product from Data Marketplace â€“ DST (Digital Services Tax)",exampleQueries:["Show digital revenues dataset by country.","Filter DST dataset for EU-only markets."],detailedAnswers:{"Show digital revenues dataset by country.":{response:`FY23 DST Collections:
- ðŸ‡«ðŸ‡· France: $120M
- ðŸ‡®ðŸ‡¹ Italy: $95M
- ðŸ‡ªðŸ‡¸ Spain: $88M
- ðŸ‡¬ðŸ‡§ UK: $110M
- ðŸ‡®ðŸ‡³ India: $130M

These figures show significant contributions from both EU and non-EU markets, with India being the largest single DST contributor.`,citations:[{source:"DST Dataset",page:"Tax Data Marketplace"}]},"Filter DST dataset for EU-only markets.":{response:"EU-Only (FY23): France $120M, Italy $95M, Spain $88M. Together these account for **~43% of total DST revenues**. This split helps in comparing EU policy impact vs. global measures.",citations:[{source:"DST Dataset",page:"Tax Data Marketplace"}]}},category:"Integration Widgets"},documents:{id:"documents",name:"Tax Digital Document Storage",type:"documents",icon:"ðŸ—‚ï¸",description:"Stores structured + unstructured audit docs (e.g., SNUT-23 audit trail, variance reports, FY filings).",subheading:"Digital Document Storage",exampleQueries:["List all Sales & Use Tax variance reports for FY23.","Summarize key findings from SNUT-23 audit trail."],detailedAnswers:{"List all Sales & Use Tax variance reports for FY23.":{response:`Variance reports archived in the Tax Digital Document Storage for FY23 include:

â€¢ **Q1 FY23** â€“ Identified timing misclassification (~$250K) in SNUT online service revenues.
â€¢ **Q2 FY23** â€“ Flagged under-reporting of $400K due to incomplete subsidiary disclosures.
â€¢ **Q3 FY23** â€“ Documented a $600K overstatement; corrective entries traced and validated.
â€¢ **Q4 FY23** â€“ Captured year-end reconciliation adjustments linked to downstream filings.

âœ… **Audit Note**: Pattern of control gaps, logged under remediation log FY23-R05.`,citations:[{source:"Tax Digital Document Storage",page:"FY23 Variance Reports Collection"}]},"Summarize key findings from SNUT-23 audit trail.":{response:`**SNUT-23 Audit Trail highlights:**

1. ~$1.2M revenue misclassification under exempt category.
2. 2 subsidiaries with delayed filings, flagged in compliance exceptions.
3. Corrective entries posted to FY23 Returns Filing, validated via variance reports.

âš ï¸ **Audit Note**: Indicates systemic weaknesses in entity-level reporting. Recommended: strengthen pre-close reconciliations + attestations.`,citations:[{source:"SNUT-23 Audit Trail",page:"Tax Digital Document Storage"}]}},category:"Integration Widgets"},salesUseTaxData:{id:"salesUseTaxData",name:"Sales & Use Tax Dataset",type:"salesUseTaxData",icon:"ðŸª",description:"Contains quarterly and annual Sales & Use Tax collections, structured tabular data from Data Marketplace.",subheading:"Sales & Use Tax Data Product",exampleQueries:["Show quarterly SNUT sales tax collections.","Compare SNUT collections vs other states."],detailedAnswers:{"Show quarterly SNUT sales tax collections.":{response:`**SNUT Quarterly Collections (FY24):**

â€¢ Q1: $12M
â€¢ Q2: $14M
â€¢ Q3: $11M (variance flagged)
â€¢ Q4: $15M

**Total: $52M**

ðŸ“Š **Audit Note**: Q3 dip aligns with FY23 variance audit adjustments.`,citations:[{source:"SNUT Sales Tax Data",page:"Sales & Use Tax Dataset"}]},"Compare SNUT collections vs other states.":{response:`**FY24 Benchmark:**

â€¢ SNUT: $52M
â€¢ California: $68M
â€¢ Texas: $61M
â€¢ New York: $57M

ðŸ”Ž **Audit Insight**: SNUT stable overall, but Q3 volatility = red flag tied to audit variance.`,citations:[{source:"Sales & Use Tax Dataset",page:"State Comparison Analysis"}]}},category:"Integration Widgets"}},U=t=>M[t]||null,q=t=>{const a=[],o=t.map(r=>r.originalId||r.type);return t.forEach(r=>{const s=U(r.originalId||r.type);s&&s.exampleQueries&&a.push(...s.exampleQueries)}),o.includes("documents")&&o.includes("salesUseTaxData")&&a.push("Link variance adjustments to SNUT documentation.","Explain how audit findings impacted reported collections.","Map quarterly collection dips to audit variance reports."),[...new Set(a)]},z=()=>{const t={};return Object.values(M).forEach(a=>{t[a.category]||(t[a.category]=[]),t[a.category].push(a)}),t},K=(t,a)=>{const o=a.map(r=>r.originalId||r.type);if(o.includes("documents")&&o.includes("salesUseTaxData")){const r={"Link variance adjustments to SNUT documentation.":{response:`**$1.2M adjustment referenced in:**

â€¢ **Variance Report FY23** â€“ Misclassification flagged.
â€¢ **SNUT-23 Audit Trail** â€“ Source entries identified.
â€¢ **FY23 Returns Filing** â€“ Adjustment posted.

ðŸ“‰ **Dataset shows Q3 collections dip ($11M) = exact match to adjustment.**

âœ… **Audit Note**: Strong document-to-dataset linkage; ensures traceability for compliance.`,citations:[{source:"Tax Digital Document Storage",page:"FY23 Variance Reports"},{source:"Sales & Use Tax Dataset",page:"Quarterly Collections"}]},"Explain how audit findings impacted reported collections.":{response:`**Audit Impact Analysis:**

â€¢ Q2 under-reporting ($400K) â†’ upward revision.
â€¢ Q3 overstatement ($600K) â†’ downward revision.
â€¢ Net correction $1.2M â†’ updated in FY23 Returns.

ðŸ“Š **Dataset reconciles audit logs with reported filings.**

ðŸ”’ **Audit Note**: Validates end-to-end data lineage (findings â†’ remediation â†’ filings).`,citations:[{source:"SNUT-23 Audit Trail",page:"Tax Digital Document Storage"},{source:"SNUT Sales Tax Data",page:"Sales & Use Tax Dataset"}]},"Map quarterly collection dips to audit variance reports.":{response:`**Quarterly Correlation:**

â€¢ **Q2 Dip**: tied to "Late e-filings" (Audit Trail).
â€¢ **Q3 Dip**: tied to "Overstatement corrections" (Variance Report).

ðŸ“‘ **Audit Note**: Each dip traceable to audit exceptions, improves transparency for external auditor walkthroughs.`,citations:[{source:"FY23 Variance Reports Collection",page:"Tax Digital Document Storage"},{source:"SNUT Quarterly Collections",page:"Sales & Use Tax Dataset"}]}};if(r[t])return r[t]}for(const r of a){const s=U(r.originalId||r.type);if(s&&s.detailedAnswers&&s.detailedAnswers[t])return s.detailedAnswers[t]}return null},V=()=>{const[t,a]=m.useState(null),o=z(),r=(s,n)=>{s.dataTransfer.setData("text/plain",JSON.stringify(n))};return e.jsx("aside",{className:"w-80 bg-[#1a1a1d] border-r border-gray-700 min-h-screen",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Widget Library"}),e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Registered widgets are displayed below:"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Drag widgets to workspace"})]}),e.jsx("div",{className:"space-y-6",children:Object.entries(o).map(([s,n])=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:s}),e.jsx("div",{className:"space-y-2",children:n.map(i=>e.jsxs("div",{className:`relative p-3 bg-gray-800/50 rounded-lg border border-gray-600
                             hover:border-[#FF8000] hover:bg-gray-800/70
                             cursor-grab active:cursor-grabbing transition-all`,draggable:!0,onDragStart:c=>r(c,i),onMouseEnter:()=>a(i.id),onMouseLeave:()=>a(null),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-[#FF8000]/20 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-[#FF8000] text-xs",children:i.icon})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:i.name}),e.jsx("div",{className:"text-xs text-gray-400",children:i.type})]})]}),t===i.id&&e.jsxs("div",{className:`absolute left-full top-0 ml-2 w-80 z-50
                                    bg-slate-800 text-slate-200 p-4 rounded-lg shadow-xl
                                    border border-gray-600`,children:[e.jsx("div",{className:"text-sm font-medium text-white mb-1",children:i.name}),i.subheading&&e.jsx("div",{className:"text-xs text-[#FF8000] mb-2 italic",children:i.subheading}),e.jsx("div",{className:"text-xs text-gray-300 mb-3",children:i.description}),e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Example queries:"}),e.jsx("div",{className:"space-y-1",children:i.exampleQueries.map((c,x)=>e.jsxs("div",{className:"text-xs text-[#FF8000]",children:["â€¢ ",c]},x))})]})]},i.id))})]},s))})]})})},H=({title:t})=>e.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-gray-600",children:[e.jsx("span",{className:"text-xs font-medium text-gray-300",children:t}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{className:"text-gray-400 hover:text-white text-xs px-1",children:"ðŸ“Š"}),e.jsx("button",{className:"text-gray-400 hover:text-white text-xs px-1",children:"ðŸ“‹"}),e.jsx("button",{className:"text-gray-400 hover:text-white text-xs px-1",children:"âš™ï¸"})]})]}),j=({title:t,children:a,showControls:o=!0})=>e.jsxs("div",{className:"w-full h-full",children:[o&&e.jsx(H,{title:t}),e.jsx("div",{className:"p-3",children:a})]}),Z=({title:t="OECD DST Tracker"})=>e.jsx(j,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"ðŸŒ"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"oecd.org/tax/dst-tracker"})]}),e.jsx("div",{className:"min-h-[120px] bg-gray-800 rounded flex items-center justify-center w-full",children:e.jsxs("div",{className:"text-center text-gray-500 p-4",children:[e.jsx("div",{className:"text-2xl mb-1",children:"ðŸŒ"}),e.jsx("p",{className:"text-xs mb-1",children:"DST Tracker Preview"}),e.jsx("p",{className:"text-xs break-words",children:"France, Italy, Spain active"})]})})]})}),J=({title:t="Trial Balance FY24"})=>e.jsx(j,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"ðŸ“‚"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"trial_balance_fy24.json"})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-gray-400 truncate flex-1 mr-2",children:"Deferred Tax Expense:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$2.3M"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-gray-400 truncate flex-1 mr-2",children:"Current Tax Provision:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$14.2M"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-gray-400 truncate flex-1 mr-2",children:"Total Provisions:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$16.5M"})]})]})]})}),X=({title:t="Tax FAQ"})=>e.jsx(j,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"â“"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"Transfer Pricing + GST Rules"})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Recent Q&As:"}),e.jsx("div",{className:"text-xs text-white break-words",children:"â€¢ GST threshold: INR 40L (goods)"}),e.jsx("div",{className:"text-xs text-white break-words",children:"â€¢ TP documentation required"}),e.jsx("div",{className:"text-xs text-white break-words",children:"â€¢ Service threshold: INR 20L"}),e.jsx("button",{className:"text-xs text-[#FF8000] hover:underline mt-2 truncate w-full text-left",children:"Browse all FAQs â†’"})]})]})}),ee=({title:t="RSS Exchange Rates"})=>{const[a,o]=m.useState(!1),[r,s]=m.useState(null),n=()=>{o(!0),setTimeout(()=>{s("EUR/INR = 89.40"),o(!1)},1500)};return e.jsx(j,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"ðŸ”Œ"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"RSS API Connection"})]}),e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsx("button",{onClick:n,disabled:a,className:`w-full py-2 px-3 bg-[#FF8000] text-white text-xs rounded
                       hover:bg-[#FF8000]/80 disabled:bg-gray-600 transition-all`,children:a?"Fetching Rate...":"Get Exchange Rate"}),r&&e.jsx("div",{className:"text-center text-white text-sm font-medium break-words p-2 bg-gray-800/50 rounded",children:r})]})]})})},te=({title:t="DST Dataset"})=>e.jsx(j,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"ðŸ“Š"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"Tax Data Marketplace"})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"FY23 Collections:"}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-white truncate flex-1 mr-2",children:"ðŸ‡«ðŸ‡· France:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$120M"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-white truncate flex-1 mr-2",children:"ðŸ‡®ðŸ‡¹ Italy:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$95M"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-white truncate flex-1 mr-2",children:"ðŸ‡ªðŸ‡¸ Spain:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$88M"})]})]})]})}),se=({title:t="Tax Digital Document Storage"})=>e.jsx(j,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"ðŸ—‚ï¸"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"Tax Digital Document Storage"})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Recent Documents:"}),e.jsx("div",{className:"text-xs text-white break-words",children:"â€¢ SNUT-23 Audit Trail"}),e.jsx("div",{className:"text-xs text-white break-words",children:"â€¢ Variance Report ($1.2M)"}),e.jsx("div",{className:"text-xs text-white break-words",children:"â€¢ FY23 Returns Filing"}),e.jsx("div",{className:"text-xs text-gray-400 mt-2 break-words",children:"Structured + Unstructured Data"})]})]})}),ae=({title:t="Sales & Use Tax Dataset"})=>e.jsx(j,{title:t,children:e.jsxs("div",{className:"bg-gray-900/50 rounded border border-gray-600 p-3 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:"ðŸª"}),e.jsx("span",{className:"text-xs text-gray-300 truncate",children:"Sales & Use Tax Data Product"})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"SNUT Quarterly Collections:"}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-white truncate flex-1 mr-2",children:"Q1 2024:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$12M"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-white truncate flex-1 mr-2",children:"Q2 2024:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$14M"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-white truncate flex-1 mr-2",children:"Q3 2024:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$11M"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-white truncate flex-1 mr-2",children:"Q4 2024:"}),e.jsx("span",{className:"text-white font-medium flex-shrink-0",children:"$15M"})]}),e.jsx("div",{className:"border-t border-gray-600 pt-2 mt-3",children:e.jsxs("div",{className:"flex justify-between items-center text-xs min-w-0",children:[e.jsx("span",{className:"text-[#FF8000] truncate flex-1 mr-2 font-medium",children:"Total:"}),e.jsx("span",{className:"text-[#FF8000] font-bold flex-shrink-0",children:"$52M"})]})})]})]})}),re=({widget:t,onRemove:a})=>{const o=()=>{switch(t.type){case"webpage":return e.jsx(Z,{...t});case"file":return e.jsx(J,{...t});case"faq":return e.jsx(X,{...t});case"api":return e.jsx(ee,{...t});case"dataProduct":return e.jsx(te,{...t});case"documents":return e.jsx(se,{...t});case"salesUseTaxData":return e.jsx(ae,{...t});default:return e.jsx("div",{children:"Unknown widget type"})}};return e.jsxs("div",{className:`flex flex-col w-full h-auto min-w-[280px] max-w-full
                    bg-gray-800/50 rounded-lg border border-gray-600 p-4
                    hover:border-[#FF8000] transition-all`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 min-h-[24px]",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm flex-shrink-0",children:t.icon}),e.jsx("h3",{className:"text-sm font-medium text-white truncate",children:t.title})]}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white text-xs transition-colors flex-shrink-0 ml-2",children:"âœ•"})]}),e.jsx("div",{className:"bg-gray-900/30 rounded p-2 mb-3 flex-shrink-0",children:e.jsxs("span",{className:"text-xs text-green-400",children:["âœ“ ",t.type," loaded"]})}),e.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:o()})]})},ne="Sample Corp",ie="FY24",oe="USD",le="2024-03-31",ce={current_tax_provision:{amount:142e5,description:"Current year tax liability"},deferred_tax_expense:{amount:23e5,description:"Deferred tax expense for timing differences"},total_provisions:{amount:165e5,description:"Total tax provisions for FY24"}},de=[{jurisdiction:"United States",current_tax:85e5,deferred_tax:12e5},{jurisdiction:"European Union",current_tax:32e5,deferred_tax:65e4},{jurisdiction:"Asia Pacific",current_tax:25e5,deferred_tax:45e4}],xe={prepared_by:"Tax Department",reviewed_by:"CFO",audit_status:"Reviewed"},C={company:ne,fiscal_year:ie,currency:oe,reporting_date:le,tax_provisions:ce,breakdown:de,metadata:xe},me=[{category:"Transfer Pricing",questions:[{id:"tp_001",question:"What are TP documentation thresholds in India?",answer:"In India, TP documentation is required for international transactions exceeding INR 1 crore and domestic transactions exceeding INR 20 crores as per Rule 10D of Income Tax Rules.",source:"Income Tax Rules, Rule 10D",last_updated:"2024-01-15"},{id:"tp_002",question:"What is the penalty for non-compliance with TP regulations?",answer:"Penalty can range from 2% of the value of international transaction or INR 1 lakh, whichever is higher, under Section 271AA.",source:"Income Tax Act, Section 271AA",last_updated:"2024-01-15"}]},{category:"India GST",questions:[{id:"gst_001",question:"What is the GST threshold for mandatory registration in India?",answer:"GST registration is mandatory for businesses with turnover exceeding INR 40 lakhs for goods and INR 20 lakhs for services in most states.",source:"CGST Act 2017, Section 22",last_updated:"2024-01-15"},{id:"gst_002",question:"What are the GST rates for different categories?",answer:"GST rates are 0%, 5%, 12%, 18%, and 28% depending on the goods/services category. Essential items are often at lower rates.",source:"GST Rate Schedule",last_updated:"2024-01-15"}]}],ue={total_questions:4,last_updated:"2024-01-15",version:"1.0"},he={faq_categories:me,metadata:ue},ge={service:"Rate Selection System (RSS)",version:"v2.1",environment:"mock",last_updated:"2024-12-01T10:30:00Z"},pe={base_currency:"USD",rates:{EUR:{rate:.9234,inverse_rate:1.0829,timestamp:"2024-12-01T10:30:00Z",source:"RSS-MOCK"},INR:{rate:83.25,inverse_rate:.012,timestamp:"2024-12-01T10:30:00Z",source:"RSS-MOCK"},GBP:{rate:.7891,inverse_rate:1.2673,timestamp:"2024-12-01T10:30:00Z",source:"RSS-MOCK"}}},fe={EUR_INR:{rate:89.4,calculation:"EUR/USD * USD/INR",timestamp:"2024-12-01T10:30:00Z"},GBP_INR:{rate:105.48,calculation:"GBP/USD * USD/INR",timestamp:"2024-12-01T10:30:00Z"}},ye={user_authorized:!0,permissions:["read_rates","historical_data"],session_expires:"2024-12-01T18:30:00Z"},S={api_info:ge,exchange_rates:pe,derived_rates:fe,auth_status:ye},be={name:"Digital Services Tax Collections",source:"Tax Data Marketplace",version:"2024.1",coverage_period:"FY2023",last_updated:"2024-01-15"},ve=[{country_code:"FR",country_name:"France",collections_usd:12e7,collections_local:11e7,local_currency:"EUR",tax_rate:.03,implementation_date:"2019-01-01",status:"active"},{country_code:"IT",country_name:"Italy",collections_usd:95e6,collections_local:87e6,local_currency:"EUR",tax_rate:.03,implementation_date:"2020-01-01",status:"active"},{country_code:"ES",country_name:"Spain",collections_usd:88e6,collections_local:81e6,local_currency:"EUR",tax_rate:.03,implementation_date:"2021-01-01",status:"active"},{country_code:"UK",country_name:"United Kingdom",collections_usd:156e6,collections_local:125e6,local_currency:"GBP",tax_rate:.02,implementation_date:"2020-04-01",status:"active"}],je={total_collections_usd:459e6,countries_with_dst:4,average_tax_rate:.0275,highest_collection:{country:"United Kingdom",amount_usd:156e6}},we={dataset_info:be,collections_by_country:ve,summary:je},E=(t,a=[])=>{const o=K(t,a);if(o)return{response:o.response,citations:o.citations||[]};const r=a.map(n=>n.type),s=t.toLowerCase();if(s.includes("tax provision")||s.includes("fy24"))return r.includes("file")?{response:`Based on Trial Balance FY24 data: **Deferred Tax Expense: $${(C.tax_provisions.deferred_tax_expense.amount/1e6).toFixed(1)}M**, Current Tax Provision: $${(C.tax_provisions.current_tax_provision.amount/1e6).toFixed(1)}M. Total provisions: **$${(C.tax_provisions.total_provisions.amount/1e6).toFixed(1)}M**.`,citations:[{source:"Trial Balance FY24",page:"Tax Provisions Section"}]}:{response:"To get tax provision data, please add the Trial Balance FY24 widget to your workspace.",citations:[]};if(s.includes("dst")||s.includes("digital services")){if(r.includes("webpage"))return{response:"**DST applies to digital revenues > â‚¬750M** globally. Active countries: ðŸ‡«ðŸ‡· France (3%), ðŸ‡®ðŸ‡¹ Italy (3%), ðŸ‡ªðŸ‡¸ Spain (3%), ðŸ‡¬ðŸ‡§ UK (2%). Revenue threshold varies by jurisdiction.",citations:[{source:"OECD DST Tracker",page:"oecd.org/tax/dst-tracker"}]};if(r.includes("dataProduct")){const n=we.summary.highest_collection;return{response:`**FY23 DST Collections**: ðŸ‡«ðŸ‡· France: $120M, ðŸ‡®ðŸ‡¹ Italy: $95M, ðŸ‡ªðŸ‡¸ Spain: $88M, ðŸ‡¬ðŸ‡§ UK: $156M. **Highest collection**: ${n.country} ($${n.amount_usd/1e6}M).`,citations:[{source:"DST Dataset",page:"Tax Data Marketplace"}]}}return{response:"Add the OECD DST Tracker or DST Dataset widget to get Digital Services Tax information.",citations:[]}}if(s.includes("exchange rate")||s.includes("eur/inr"))return r.includes("api")?{response:`**EUR/INR = ${S.derived_rates.EUR_INR.rate}** (from RSS API, ${new Date(S.exchange_rates.rates.EUR.timestamp).toLocaleDateString()}). Base rates: EUR/USD = ${S.exchange_rates.rates.EUR.rate}, USD/INR = ${S.exchange_rates.rates.INR.rate}.`,citations:[{source:"RSS Exchange Rate System",page:"Live API Feed"}]}:{response:"Add the RSS Exchange Rates widget to get live currency data.",citations:[]};if(s.includes("gst")||s.includes("threshold")||s.includes("india")){if(r.includes("faq")){const n=he.faq_categories.find(c=>c.category==="India GST"),i=n==null?void 0:n.questions.find(c=>c.question.toLowerCase().includes("threshold"));if(i)return{response:`**${i.answer}**`,citations:[{source:i.source,page:"FAQ Database"}]}}return{response:"Add the Tax FAQ widget to access India GST and Transfer Pricing information.",citations:[]}}return s.includes("what can this copilot help")||s.includes("help with")?{response:`I'm your **Tax Copilot**! I can help analyze financial data when you add widgets to your workspace. Available widgets include:

â€¢ **Trial Balance** - Tax provisions and financial data
â€¢ **OECD DST Tracker** - Digital services tax regulations
â€¢ **RSS Exchange Rates** - Live currency exchange rates
â€¢ **Tax FAQ** - Transfer pricing and GST guidance
â€¢ **DST Dataset** - Digital tax collection data
â€¢ **Audit Documents** - Document analysis and summaries`,citations:[]}:s.includes("how do i add widgets")||s.includes("get started")?{response:`To get started:

1. **Browse the Widget Library** (left sidebar) and hover over widgets to see descriptions
2. **Drag any widget** into the workspace canvas
3. **Ask questions** using the suggested queries that appear
4. **Create multiple chat sessions** using the '+ New' button

Try dragging the **Trial Balance FY24** widget to analyze tax provisions!`,citations:[]}:{response:"I can help you analyze data from your workspace widgets. Try adding some widgets first, or ask about tax provisions, DST rules, exchange rates, or GST thresholds.",citations:[]}},Se=Object.freeze(Object.defineProperty({__proto__:null,generateMockResponse:E},Symbol.toStringTag,{value:"Module"})),T=m.createContext(),Ne=({children:t})=>{const[a,o]=m.useState([{id:1,type:"system",content:"Welcome to the Tax Copilot! Add widgets to your workspace to get started.",timestamp:new Date}]),[r,s]=m.useState([]),[n,i]=m.useState([]),c=u=>{const l={...u,id:Date.now()};if(u.type==="user")o(g=>[...g,l]);else if(u.type==="copilot"){const g=E(u.content,r),p={...l,content:g.response,citations:g.citations};o(d=>[...d,p])}else o(g=>[...g,l])},x=u=>{const l=q(u);i(l)},h=u=>{s(l=>{if(l.find(d=>d.id===u.id))return l;const p=[...l,u];return x(p),p})},f=u=>{s(l=>{const g=l.filter(p=>p.id!==u);return x(g),g})};return e.jsx(T.Provider,{value:{messages:a,addMessage:c,availableWidgets:r,suggestedQueries:n,addWidget:h,removeWidget:f},children:t})},Te=()=>{const[t,a]=m.useState([]),{addWidget:o,removeWidget:r}=m.useContext(T),s=c=>{c.preventDefault();const x=JSON.parse(c.dataTransfer.getData("text/plain")),h={id:`${x.type}-${Date.now()}`,type:x.type,title:x.name||x.title,icon:x.icon,originalId:x.id,isLoaded:!0};a([...t,h]),o(h)},n=c=>{a(t.filter(x=>x.id!==c)),r(c)},i=c=>{c.preventDefault()};return e.jsx("div",{className:`relative w-full h-full min-h-96 bg-gray-900/20 rounded-lg
                 border-2 border-dashed border-gray-600 overflow-hidden`,onDrop:s,onDragOver:i,children:t.length===0?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ“Š"}),e.jsx("p",{className:"text-sm px-4",children:"Drop widgets here to create your dashboard"})]})}):e.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden",children:e.jsx("div",{className:"grid grid-cols-12 gap-4 p-4 auto-rows-min w-full",children:t.map(c=>e.jsx("div",{className:"col-span-12 sm:col-span-6 lg:col-span-4",children:e.jsx(re,{widget:c,onRemove:()=>n(c.id)})},c.id))})})})},De=()=>e.jsxs("div",{className:"min-h-screen bg-[#151518] rounded-lg border border-gray-700 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Workspace Canvas"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Drag widgets from the sidebar to start building your dashboard"})]}),e.jsx("div",{className:"flex-1",children:e.jsx(Te,{})})]}),Ce="modulepreload",Fe=function(t){return"/copilotbb/"+t},_={},ke=function(a,o,r){if(!o||o.length===0)return a();const s=document.getElementsByTagName("link");return Promise.all(o.map(n=>{if(n=Fe(n),n in _)return;_[n]=!0;const i=n.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const u=s[f];if(u.href===n&&(!i||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${c}`))return;const h=document.createElement("link");if(h.rel=i?"stylesheet":Ce,i||(h.as="script",h.crossOrigin=""),h.href=n,document.head.appendChild(h),i)return new Promise((f,u)=>{h.addEventListener("load",f),h.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>a()).catch(n=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=n,window.dispatchEvent(i),!i.defaultPrevented)throw n})},_e=({citations:t=[]})=>t.length?e.jsxs("div",{className:"mt-3 p-2 bg-gray-900/50 rounded border-l-2 border-[#FF8000]",children:[e.jsx("h5",{className:"text-xs font-medium text-gray-400 mb-1",children:"Sources:"}),e.jsx("div",{className:"space-y-1",children:t.map((a,o)=>e.jsxs("div",{className:"text-xs text-gray-300",children:[e.jsxs("span",{className:"text-[#FF8000]",children:["[",o+1,"]"]}),e.jsx("span",{className:"ml-1",children:a.source}),a.page&&e.jsxs("span",{className:"text-gray-500",children:[" - Page ",a.page]})]},o))})]}):null,Re=({messages:t=[]})=>{const a=r=>{switch(r){case"user":return"ðŸ‘¤";case"copilot":return"ðŸ¤–";case"system":return"ðŸ’¡";default:return"ðŸ’¬"}},o=r=>{switch(r){case"user":return"bg-blue-800/50 border-blue-600 ml-8";case"copilot":return"bg-gray-800/50 border-gray-600 mr-8";case"system":return"bg-orange-800/30 border-orange-600 mx-4";default:return"bg-gray-800/50 border-gray-600"}};return e.jsxs("div",{className:"p-4 space-y-4",children:[t.map(r=>e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-[#FF8000] rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white",children:a(r.type)})}),e.jsxs("span",{className:"text-xs text-gray-400 capitalize",children:[r.type," â€¢ ",r.timestamp.toLocaleTimeString()]})]}),e.jsxs("div",{className:`p-3 rounded-lg border ${o(r.type)}`,children:[e.jsx("div",{className:"text-sm text-white whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:r.content.replace(/\*\*(.*?)\*\*/g,'<strong class="text-[#FF8000]">$1</strong>')}}),r.citations&&e.jsx(_e,{citations:r.citations})]})]},r.id)),t.length===1&&e.jsx("div",{className:"text-center text-gray-500 text-xs mt-8",children:"Start a conversation by typing a question or clicking a suggested query"})]})},Ae=({onQuerySelect:t})=>{const{suggestedQueries:a,availableWidgets:o}=m.useContext(T),r=["What can this copilot help with?","How do I add widgets to get started?"],s=a.length>0?a:r;return e.jsxs("div",{className:"p-4 border-b border-gray-700",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-400 mb-2",children:a.length>0?`Suggested Queries (${o.length} widgets)`:"Suggested Queries"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((n,i)=>e.jsx("button",{onClick:()=>t(n),className:`text-xs px-2 py-1 bg-gray-800 text-gray-300 rounded
                       border border-gray-600 hover:border-[#FF8000] hover:text-white
                       hover:bg-gray-700 transition-all`,children:n},i))})]})},Ie=({copilotName:t="Global Tax Copilot"})=>{const[a,o]=m.useState(""),{availableWidgets:r}=m.useContext(T),[s,n]=m.useState([{id:1,name:"Chat 1",messages:[{id:1,type:"system",content:`Welcome to the ${t}! Add widgets to your workspace to get started.`,timestamp:new Date}]}]),[i,c]=m.useState(1),x=()=>s.find(d=>d.id===i),h=(d=a)=>{if(!d.trim())return;const y={id:Date.now(),type:"user",content:d,timestamp:new Date};n(b=>b.map(v=>v.id===i?{...v,messages:[...v.messages,y]}:v)),o(""),setTimeout(()=>{ke(()=>Promise.resolve().then(()=>Se),void 0).then(({generateMockResponse:b})=>{const v=b(d,r),P={id:Date.now()+1,type:"copilot",content:v.response,citations:v.citations,timestamp:new Date};n($=>$.map(w=>w.id===i?{...w,messages:[...w.messages,P]}:w))})},1e3)},f=d=>{d.key==="Enter"&&h()},u=()=>{const d=Math.max(...s.map(b=>b.id))+1,y={id:d,name:`Chat ${d}`,messages:[{id:Date.now(),type:"system",content:`Welcome to the ${t}! Add widgets to your workspace to get started.`,timestamp:new Date}]};n(b=>[...b,y]),c(d)},l=d=>{if(s.length!==1&&(n(y=>y.filter(b=>b.id!==d)),i===d)){const y=s.filter(b=>b.id!==d);c(y[0].id)}},g=()=>{n(d=>d.map(y=>y.id===i?{...y,messages:[{id:Date.now(),type:"system",content:`Chat cleared. Welcome back to the ${t}!`,timestamp:new Date}]}:y))},p=x();return e.jsxs("div",{className:"min-h-screen flex flex-col bg-[#1a1a1d]",children:[e.jsxs("div",{className:"border-b border-gray-700 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 pb-2",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:t}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:g,className:"p-1 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-all",title:"Clear Chat",children:"ðŸ—‘ï¸"}),e.jsx("button",{onClick:u,className:"px-2 py-1 text-xs bg-[#FF8000] text-white rounded hover:bg-[#FF8000]/80 transition-all",title:"New Chat",children:"+ New"})]})]}),e.jsx("div",{className:"flex items-center px-4 pb-2 overflow-x-auto",children:e.jsx("div",{className:"flex space-x-1 min-w-max",children:s.map(d=>e.jsxs("div",{className:`flex items-center px-2 py-1 rounded-t text-xs transition-all ${d.id===i?"bg-gray-700 text-white border-b-2 border-[#FF8000]":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:[e.jsx("button",{onClick:()=>c(d.id),className:"mr-1",children:d.name}),s.length>1&&e.jsx("button",{onClick:y=>{y.stopPropagation(),l(d.id)},className:"text-gray-500 hover:text-red-400 transition-colors",children:"âœ•"})]},d.id))})}),e.jsx("div",{className:"px-4 pb-2",children:e.jsxs("p",{className:"text-sm text-gray-400",children:["Ask questions about your data (",r.length," widgets active)"]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(Re,{messages:(p==null?void 0:p.messages)||[]})}),e.jsxs("div",{className:"border-t border-gray-700 flex-shrink-0",children:[e.jsx(Ae,{onQuerySelect:h}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:a,onChange:d=>o(d.target.value),onKeyPress:f,placeholder:"Ask about tax provisions, DST rules, exchange rates...",className:`flex-1 bg-gray-800 border border-gray-600 rounded-lg px-3 py-2
                         text-white placeholder-gray-400 focus:outline-none focus:border-[#FF8000]`}),e.jsx("button",{onClick:()=>h(),className:"px-4 py-2 bg-[#FF8000] text-white rounded-lg hover:bg-[#FF8000]/80",children:"Send"})]})})]})]})},Me=({onSelectCopilot:t})=>{const[a,o]=m.useState(!1),[r,s]=m.useState(""),[n,i]=m.useState("global-tax"),c=[{id:"global-tax",title:"Global Tax Copilot",icon:"ðŸŒ",description:"Analyze tax provisions, DST rules, audit variances, and international regulation compliance in one place.",isActive:!0,comingSoon:!1},{id:"recon",title:"Recon Copilot",icon:"ðŸ“Š",description:"Automate reconciliations across ledgers, bank statements, and supplier dataâ€”detect anomalies and speed up close-processes.",isActive:!1,comingSoon:!0},{id:"accounting",title:"Accounting Copilot",icon:"ðŸ“‹",description:"Streamline financial reporting, month-end close, journal entries, and ledger housekeeping tasks with smart AI assistance.",isActive:!1,comingSoon:!0},{id:"gsm",title:"GSM Copilot",icon:"âš™ï¸",description:"Gain strategic market insights: forecast trends, monitor macroeconomic signals, and align your finance strategy globally.",isActive:!1,comingSoon:!0}],x={"global-tax":{header:"ðŸŒ Global Tax Copilot",intro:"AI copilots embedded into finance and tax workflows let business users interact with complex data in plain language.",features:["Auto-generate variance commentary on provision & reconciliation files.","Draft compliance narratives for OECD DST, Pillar-2, Transfer Pricing.","Answer policy & data queries (GST thresholds, DST collections, etc.).","Blend structured data (trial balances, reconciliations) with unstructured docs (audit trails, variance reports)."],outcome:"Tax and finance teams spend less time reconciling and extracting dataâ€”and more time driving global compliance, planning, and strategy."},recon:{header:"ðŸ“Š Recon Copilot (Coming Soon)",intro:"Reconciliation copilots will automate high-volume matching and exception handling.",features:["Match ledgers, sub-ledgers, and external feeds.","Detect breaks early with AI-driven variance narratives.","Auto-generate exception workflows with traceability.","Provide real-time reconciliation dashboards."],outcome:"Cut cycle time by 70% and free controllers from manual matching."},accounting:{header:"ðŸ“‹ Accounting Copilot (Coming Soon)",intro:"Accounting copilots will streamline controllership and close cycle processes.",features:["Draft journal entries with contextual explanations.","Generate close cycle variance narratives.","Automate accounting policy checks on adjustments.","Support proactive insight delivery instead of manual reporting."],outcome:"Controllers shift from reactive reconciliations to proactive decision support."},gsm:{header:"âš™ï¸ GSM Copilot (Coming Soon)",intro:"Procurement copilots simplify supplier management and compliance.",features:["Review contracts with AI-driven summaries.","Validate supplier rates against policy.","Flag exceptions in procurement workflows.","Assist GSM teams in navigating payment terms & compliance checks."],outcome:"Faster supplier decisions and improved contract compliance with less manual effort."}},h=l=>{i(l.id),l.comingSoon?(s(l.title),o(!0)):l.id==="global-tax"&&setTimeout(()=>{t("global-tax")},100)},f=()=>{if(!n||!x[n])return null;const l=x[n];return e.jsx("div",{className:"mt-12 max-w-4xl mx-auto transition-all duration-500 ease-in-out",children:e.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-2xl border border-white/10 p-8",children:[e.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-4 text-center",children:l.header}),e.jsx("p",{className:"text-lg text-gray-300 leading-relaxed text-center mb-6",children:l.intro}),e.jsx("div",{className:"space-y-3 mb-6",children:l.features.map((g,p)=>e.jsxs("p",{className:"text-gray-300 flex items-start",children:[e.jsx("span",{className:"text-[#FF8000] mr-2 flex-shrink-0",children:"â€¢"}),e.jsx("span",{children:g})]},p))}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-indigo-900/30 via-purple-900/30 to-pink-900/30 rounded-lg border border-purple-500/20",children:e.jsxs("p",{className:"text-lg text-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"ðŸ’¡"}),e.jsx("strong",{className:"text-yellow-300",children:"Outcome:"})," ",e.jsx("span",{className:"text-gray-200",children:l.outcome})]})})]})})},u=()=>{o(!1),s("")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-8 relative",children:[e.jsxs("div",{className:"absolute top-6 right-6 text-right",children:[e.jsx("div",{className:"text-sm font-medium bg-gradient-to-r from-indigo-300 via-purple-300 to-pink-300 bg-clip-text text-transparent",children:"Vipul Gaur"}),e.jsx("div",{className:"text-xs text-gray-400 hover:text-gray-300 transition-colors",children:"vipul.gaur@aexp.com"})]}),e.jsxs("div",{className:"max-w-6xl w-full text-center",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4",children:"Finance Copilot Studio"}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300",children:"Select your copilot type to get started"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(l=>e.jsxs("div",{onClick:()=>h(l),className:`
                relative p-6 rounded-xl border-2 transition-all duration-300 cursor-pointer
                ${n===l.id?"bg-gradient-to-br from-indigo-600 to-purple-600 border-purple-400 shadow-xl transform scale-105":l.isActive&&n!==l.id?"bg-gradient-to-br from-indigo-600/70 to-purple-600/70 border-purple-400/70 hover:from-indigo-500 hover:to-purple-500 transform hover:scale-105 shadow-lg":l.comingSoon?"bg-gray-800/50 border-gray-600 hover:border-gray-500 opacity-75":"bg-gray-800/70 border-gray-600 hover:border-gray-500"}
              `,children:[l.comingSoon&&e.jsx("div",{className:"absolute top-2 right-2 bg-yellow-600 text-yellow-100 text-xs px-2 py-1 rounded-full font-medium",children:"Coming Soon"}),e.jsx("div",{className:"text-4xl mb-4",children:l.icon}),e.jsx("h3",{className:`text-xl font-semibold mb-3 ${n===l.id||l.isActive?"text-white":"text-gray-300"}`,children:l.title}),e.jsx("p",{className:`text-sm leading-relaxed ${n===l.id||l.isActive?"text-gray-200":"text-gray-400"}`,children:l.description}),n===l.id&&e.jsx("div",{className:"absolute bottom-3 right-3 w-3 h-3 bg-green-400 rounded-full animate-pulse"})]},l.id))}),f()]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-gray-800 rounded-xl p-6 max-w-md w-full border border-gray-600",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸš§"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:r}),e.jsxs("p",{className:"text-gray-300 mb-6",children:[r," will be available in future releases."]}),e.jsx("button",{onClick:u,className:"px-6 py-2 bg-[#FF8000] text-white rounded-lg hover:bg-[#FF8000]/80 transition-colors",children:"Close"})]})})})]})};class Ue extends R.Component{constructor(a){super(a),this.state={hasError:!1,error:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,o){console.error("Financial App Error:",a,o)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-[#151518] text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Financial System Error"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"A critical error occurred in the financial dashboard."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-[#FF8000] text-white rounded hover:bg-[#FF8000]/80",children:"Reload Application"})]})}):this.props.children}}const Ee=()=>{const[t,a]=m.useState("home"),[o,r]=m.useState(""),s=()=>{a("home"),r("")},n=x=>{x==="global-tax"?(a("global-tax"),r("Global Tax Copilot")):(a("coming-soon"),r(x))},i=()=>{const x={recon:"Recon Copilot",accounting:"Accounting Copilot",gsm:"GSM Copilot"};return e.jsx("div",{className:"min-h-screen bg-[#151518] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ðŸš§"}),e.jsxs("h1",{className:"text-4xl font-bold text-white mb-4",children:[x[o]," â€“ Coming Soon"]}),e.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"This copilot will be available in future releases."}),e.jsx("button",{onClick:s,className:"px-6 py-3 bg-[#FF8000] text-white rounded-lg hover:bg-[#FF8000]/80 transition-colors",children:"Return to Home"})]})})},c=()=>e.jsx(Ue,{children:e.jsx(Ne,{children:e.jsxs("div",{className:"min-h-screen bg-[#151518] text-white flex flex-col",children:[e.jsx(D,{currentView:t,onNavigateHome:s,onSelectCopilot:n}),e.jsxs("div",{className:"flex flex-1",children:[e.jsx(V,{}),e.jsxs("main",{className:"flex-1 flex min-h-screen",children:[e.jsx("div",{className:"flex-1 p-4",children:e.jsx(De,{})}),e.jsx("div",{className:"w-96 border-l border-gray-700 min-h-screen",children:e.jsx(Ie,{copilotName:"Global Tax Copilot"})})]})]})]})})});return t==="home"?e.jsxs("div",{className:"min-h-screen bg-[#151518] text-white flex flex-col",children:[e.jsx(D,{currentView:t,onNavigateHome:s,onSelectCopilot:n}),e.jsx(Me,{onSelectCopilot:n})]}):t==="global-tax"?c():t==="coming-soon"?e.jsxs("div",{className:"min-h-screen bg-[#151518] text-white flex flex-col",children:[e.jsx(D,{currentView:t,onNavigateHome:s,onSelectCopilot:n}),i()]}):null};F.createRoot(document.getElementById("root")).render(e.jsx(R.StrictMode,{children:e.jsx(Ee,{})}));
